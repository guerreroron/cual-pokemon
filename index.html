<!DOCTYPE html>
<html lang="es-CL">
  <head>
    <title>151 - Pokemon</title>
    <meta charset="UTF-8">
    
    <meta name="description" content="Uso de API">
    <meta name="author" content="RonaldGuerrero0071">

    <!--link bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.css" rel="stylesheet">

    <!--CSS propio-->
    <link rel="stylesheet" href="styles.css">

    <!-- JS Jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>

  </head>
  <body>
    <div class="details">
      <h3>Pokemon details</h3>
      <hr>
      <pre>Selecciona el pokemon para<br>ver sus características</pre>
      <hr>
      <span><pre>Nombre: </pre></span>
      <div id="nombre-pokemon"></div>
      <hr>
      <div class='img-card'>
        <img id="pokemon-img" src="" alt="">
      </div>
      <hr>
      <span><pre>Tipo: </pre></span>
      <div id="tipo"></div>
      <hr>
      <span><pre>Alto: </pre></span>
      <div id="alto"></div>
      <hr>
      <span><pre>Peso: </pre></span>
      <div id="peso"></div>
      <hr>
      <span><pre>Habilidades: </pre></span>
      <div id="habilidades"></div>
      <br>
      <br>
    </div>
    <div class="container">
        <h1 class="display-5">¿Cuál es ese Pokemon?</h1>
        <div id="img-poke"></div>
    </div>

    <!--JS bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.js"></script>

            <script>
    $(document).ready(function(){
        for (var i=1; i<=151; i++)
        {
          var url = `<img id=${i} src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/${i}.png">`
          $('#img-poke').append(url);
        };

        $('img').click(function(){
          var id = $(this).attr('id');
          console.log(id);
          var url = `https://pokeapi.co/api/v2/pokemon/${id}/`;
          console.log(url);
       
        $.get(url, function(res){
          $('#nombre-pokemon').html(res.name);
          $('#pokemon-img').attr('src', res.sprites.front_default);
          $('#alto').html(res.height/10+' m');
          $('#peso').html(res.weight/10+' kg');
          $('#habilidades').html(res.moves[31].move.name);
          for (var i = 0; i < res.types.length; i++){
            $('#tipo').html(res.types[i].type.name + ' ');
          }
        },'json'); 
       });
    });
    </script>
  </body>
</html>